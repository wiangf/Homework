<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="main.css" rel="stylesheet" />
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
    <script>
        let stars = document.getElementsByTagName("img");
        for (let star of stars) {
            star.style.filter = "grayscale(1)";
        }
        document.addEventListener("DOMContentLoaded", () => {
            for (let i = 0; i < 5; i++) {
                document.getElementById(`star${i}`).addEventListener("mouseout", mouseout);
                document.getElementById(`star${i}`).addEventListener("mouseover", mouseover);
                document.getElementById(`star${i}`).addEventListener("click", click)
            }
        })


        function mouseover() {
            if (flag == false) {
                let starName = (this.id);
                let length = parseInt(starName.substr(4));
                for (var i = 0; i <= length; i++) {
                    document.getElementById(`star${i}`).style.filter = "grayscale(0)"
                }
                document.getElementById("describe").textContent = `打分中=>${length + 1}顆星`;
            }
        }
        let flag = false;
        function click() {
            if (flag == false) {
                let starName = (this.id);
                let length = parseInt(starName.substr(4));
                document.getElementById("describe").textContent = `你給${length + 1}顆星`;
                flag = true;
                for (var i = 0; i <= length; i++) {
                    document.getElementById(`star${i}`).style.filter = "grayscale(0)"
                }
            }
            else {
                flag = false;
                document.getElementById("describe").textContent = "";
            }

        }

        function mouseout() {
            if (flag == false) {
                for (let star of stars) {
                    star.style.filter = "grayscale(1)";
                }
                document.getElementById("describe").textContent = "";
            }
        }
    </script>
</head>
<body>
    <div class="title">Js作業</div>

    <div class="nav">
        <div class="nli">
            <a href="九九乘法表.html">99乘法</a>
        </div>
        <div class="nli">
            <a href="Validate2.html">檢核</a>
        </div>
        <div class="nli">
            <a href="Light.html">星星</a>
        </div>
        <div class="nli">
            <a href="calendar.html">日曆</a>
        </div>
    </div>
    <div class="content">

        <script>
            for (let star of stars) {
                star.style.filter = "grayscale(1)";
            }
        </script>
        <img id="star0" class="s" src="Images/star.png" width="64" />
        <img id="star1" class="s" src="Images/star.png" width="64" />
        <img id="star2" class="s" src="Images/star.png" width="64" />
        <img id="star3" class="s" src="Images/star.png" width="64" />
        <img id="star4" class="s" src="Images/star.png" width="64" />
        <div id="describe"></div>
    </div>

</body>
</html>